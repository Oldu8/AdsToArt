(()=>{"use strict";var t=["img[src*='googlesyndication.com']","iframe[src*='googlesyndication.com']",".adsbygoogle",".promotedlink ",".advertisement-block",".top_banner_yand",".side_banner_yand",".videoAdUiClickElement",".cm-vpaid-iframe","._cm-ad-active",".trc-content-sponsored","._cm-native-ad",".content-ad-block",".adv",".ad-header",".ad--inview",".adv-slot_adtag","[data-ad-client]","iframe[src*='adtelligent.com']",'iframe[id*="google_ads_iframe_"]','iframe[id*="google_ad"]','iframe[id*="aswift_"]','iframe[id*="phathome_"]','iframe[id*="ad_iframe"]','iframe[title*="advertisement"]','iframe[name*="aswift"]',"ins.adsbygoogle","div.adsbygoogle",'div[id*="yandex"]','div[id*="sidebar-ad"]','div[id*="yandex_rtb*"]','div[id="yandex_rtb*"]','div[id*="div-gpt-ad"]',"div.promo-block","iframe[src*='mobtrafmag']","a[href*='trafmag.com']","img[src*='trafmag']","div[id*='MarketGid']","div[id*='div-mps-ad*']","[data-google-query-id]","div[data-name='ad wrapper']","div[data-bidder='direct']","div[data-name='adWrapper']","div[data-name='adaptiveConstructorAd']","div[data-ad-id]","div[data-confiant-id='CONFIANT_AD*']","aside[aria-label='advertisement']","a[href*='redirect.trackerado.com'] .thumbBlock","a[href*='smartadserver']","a[id*='aw0']","a[rel*='sponsored'] .thumbBlock","iframe[src*='ads']","img[src*='cummerata.link*']","img[src*='oritoee*']","img[alt='ads']","img[alt='Advertisement']","article[class='Advertisement']","div[data-name='adaptiveConstructorAd']","div[data-google-query-id='']"];function a(t,a){var e,i,o,r,d,n=t.parentNode;if(n){var c=t.offsetWidth,s=t.offsetHeight,l=(d=(o=c)/(r=s),970===o&&90===r?"ratio_10_1":728===o&&90===r?"ratio_8_1":300===o&&250===r?"ratio_4_3":336===o&&280===r?"ratio_6_5":300===o&&600===r?"ratio_2_1":160===o&&600===r?"ratio_1_3":320===o&&100===r?"ratio_3_1":Math.abs(d-1)<.05?"ratio_1_1":Math.abs(d-4/3)<.05?"ratio_4_3":Math.abs(d-16/9)<.05?"ratio_16_9":Math.abs(d-1/3)<.05?"ratio_1_3":Math.abs(d-4)<.05?"ratio_4_1":Math.abs(d-10)<.05?"ratio_10_1":Math.abs(d-1.5)<.05?"ratio_3_2":Math.abs(d-2/3)<.05?"ratio_2_3":Math.abs(d-2)<.05?"ratio_2_1":Math.abs(d-3)<.05?"ratio_3_1":"default");"default"===l&&(e=l,i=Math.floor(4*Math.random())+1,l="".concat(e,"_").concat(i));var m=n.offsetWidth,f=n.offsetHeight;if(m<c/2||0==c)return void console.log("Skipping image replacement due to small size.");var h=function(t,a,e,i,o,r){var d=document.createElement("img");d.src=function(t,a){var e="images/".concat(a,"/").concat(t,".png");return chrome.runtime.getURL(e)}(t,a),d.alt="".concat(e/i,", ").concat(e,"x").concat(i);var n=e,c=i>0?i:250;return(o>=2*n||r>=2*c)&&(n=o,c=r),d.style.width="".concat(n,"px"),d.style.height="".concat(c,"px"),d.style.objectFit="contain",d.style.maxWidth="100%",d.style.position="relative",d.onload=function(){var t=d.naturalHeight,a=d.naturalWidth;d.style.maxHeight="".concat(Math.min(t,r),"px"),d.style.maxWidth="".concat(Math.min(a,o),"px"),d.style.overflow="hidden"},d}(l,a,c,s,m,f),v=document.createElement("div");v.style.position="relative",v.style.setProperty("width","fit-content","important"),v.style.height="".concat(h.style.height),v.style.margin="0 auto",v.appendChild(h);var g=function(t,a){var e=document.createElement("span");return e.innerHTML="&#10005;",e.style.position="absolute",e.style.top="10px",e.style.right="10px",e.style.backgroundColor="rgba(0, 0, 0, 0.35)",e.style.color="white",e.style.padding="3px",e.style.cursor="pointer",e.style.zIndex="10",e.addEventListener("click",(function(){"BODY"===t.tagName?a.style.display="none":t.style.display="none"})),e}(n,v);v.appendChild(g),n.appendChild(v),t.remove()}}function e(e){new MutationObserver((function(i){i.forEach((function(i){"childList"===i.type&&i.addedNodes.forEach((function(i){1===i.nodeType&&t.forEach((function(o){i.matches(o)?a(i,e):i.shadowRoot?function(e,i){var o=t.join(", ");e.querySelectorAll(o).forEach((function(t){return a(t,i)}))}(i.shadowRoot,e):i.querySelectorAll(o).forEach((function(t){return a(t,e)}))}))}))}))})).observe(document.body,{childList:!0,subtree:!0}),function(e){document.querySelectorAll(t.join(", ")).forEach((function(t){return a(t,e)}))}(e)}chrome.storage.sync.get(["enabled"],(function(t){t.enabled&&chrome.storage.sync.get(["selectedSet"],(function(t){e(t.selectedSet)}))}))})();